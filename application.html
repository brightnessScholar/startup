<!DOCTYPE html>
<html lang="en">

<!-- Include a header, footer, body, navigation, main, -->
<head>
    <link rel="stylesheet" href="application.css"/>
    <!-- I will use two titles on this page: Tasks (the title of the page) and a return to home navigation button -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List</title>
    <title>Clock Example</title>
    <link rel="stylesheet" href="styles.css">

</head>
    <body>
        <div class="navigationBar">
            <nav> 
                <ul>
                    <li><a href="application.html">Tasks</a></li>
                    <li><a href="authentication.html">Sign in here</a></li>
                    <li><a href="database.html">Your Classes</a></li>
                    <li><a href="websocket.html">Help</a></li>
                    <li style="float:right"><a class="active" href="index.html">Home</a></li>
                </ul>
            </nav>
        </div>

        <style>
            /* Optional styling */
            img {
                display: flex;
                max-width: 100%; /* Makes image responsive */
                height: 500px; /* Maintains aspect ratio */
                margin-top: 50px;
                margin-bottom: 70px;
                margin-left: 20px;
            }
        </style>

        <div class="taskList">
            
            <img src="https://i.postimg.cc/05p8hRvx/toDoList.webp" alt="toDoList">
        
            <h1>Current Time</h1>
            <div id="clock" class="clock"></div>
            <script src="script.js"></script>


            <input type="text" id="taskInput" placeholder="Add a new task...">
            <button id="addTaskButton">Add Task</button>

            <ul id="taskList"></ul>

            <script src="script.js"></script>
        </div>


    <!-- This script allows us to store locally the user's login on this html file -->    
    <script>
        // Check if user data exists in Local Storage
        const username = localStorage.getItem('username');

        if (username) {
            document.getElementById('welcome-message').textContent = `Welcome back, ${username}!`;
        } else {
            document.getElementById('welcome-message').textContent = 'Please log in.';
        }
    </script>

    <!-- This script makes the task list adaptable by the user -->
    <script>
        document.getElementById('addTaskButton').addEventListener('click', function() {
        const taskInput = document.getElementById('taskInput');
        const taskValue = taskInput.value.trim();

        if (taskValue) {
            // Create a new list item
            const li = document.createElement('li');
            li.innerHTML = `<input type="checkbox"> ${taskValue}`;

            // Add an event listener to the checkbox
            const checkbox = li.querySelector('input[type="checkbox"]');
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    li.remove(); // Remove the list item when checked
                }
            });

            // Append the new task to the task list
            document.getElementById('taskList').appendChild(li);

            // Clear the input
            taskInput.value = '';
                }
        });
    </script>

    <!-- This is the script for my clock function -->
    <script>
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');

            const timeString = `${hours}:${minutes}:${seconds}`;
            document.getElementById('clock').textContent = timeString;
        }

        // Initial call to display the clock immediately
        updateClock();

        // Update the clock every second
        setInterval(updateClock, 1000);
    </script>
    </body>

    <!-- Add a link to return to the main home page of website -->
    <footer>
        <p><a href="https://github.com/brightnessScholar/startup">MyGithub</a></p>
    </footer>
</html>